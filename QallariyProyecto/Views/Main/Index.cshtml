@model IEnumerable<QallariyProyecto.Models.Negocio>

@{
    ViewData["Title"] = "Index";
}

<div id="carouselExampleControls" class="carousel slide mt-3" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="~/img/banner.png" class="d-block w-100" alt="...">
        </div>
        <!-- 			<div class="carousel-item">
                <img src="/img/logo_negocio.jpeg}" class="d-block w-100"
                    alt="...">
            </div>
            <div class="carousel-item">
                <img src="/img/banner.png}" class="d-block w-100" alt="...">
            </div> -->
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="visually-hidden">Next</span>
    </button>
</div>
<p style="font-size: 20px; font-weight: bold">Negocios</p>
<div style="display: flex; flex: 1; flex-flow: row wrap;margin-bottom:50px">
    <section class="product">
        <button class="pre-btn">
            <img src="~/img/arrow.png" alt="">
        </button>
        <button class="nxt-btn">
            <img src="~/img/arrow.png" alt="">
        </button>
        <div class="product-container">
            @foreach (var item in Model)
            {
                @using (Html.BeginForm("VerNegocio", "Main", FormMethod.Post, new { @style = "width: 200px; height: 320px; background-color: white; margin: 20px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 5px" }))
                {
                    @*<form style="width: 200px; height: 320px; background-color: white; margin: 20px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 5px" method="post" id="card-negocio">*@
                    <div class="container-img" style="display: flex; height: 55%; flex-direction: column; justify-content: center; align-items: center;">
                        @if (item.hasImage)
                        {
                            <img src="data:image;base64,@System.Convert.ToBase64String(item.imagen)" style="max-width: 150px; max-height: 150px; border-radius: 10px " />
                        }
                        else
                        {
                            <p style="max-width: 150px; max-height: 150px;">Aún no se ha agregado una imagen</p>
                        }
                    </div>
                    <div style="width: 100%; display: flex; height: 45%; padding: 0 10px 5px 10px; justify-content: center; align-items: center; flex-direction: column">
                        <p style="margin: 0 0 8px 0; font-weight: bold">@Html.DisplayFor(modelItem => item.nombreNegocio)</p>
                        <p style="margin: 0 0 8px 0; font-size: 13px; max-height: 60px; overflow: hidden; text-align: justify;">@Html.DisplayFor(modelItem => item.descripcionNegocio)</p>
                        <div style="display: flex; width: 100%; flex-direction: row; align-items: center; justify-content: space-around">
                            <p style="margin: 0; font-size: 12px; font-weight: bold">Categoria</p>
                            <p style="margin: 0; font-size: 12px; text-align: center; max-width: 60px">@Html.DisplayFor(modelItem => item.categoria)</p>
                        </div>
                        <button type="submit" style="position: relative; width: 60%; border: none; outline: none; background: #fff; border-radius: 5px; transition: 0.5s; cursor: pointer; opacity: 0.5; font-size: 12px;color:#757575;margin-top: 5px">
                            Ver
                            detalle
                        </button>
                    </div>
                    <input type="hidden" name="idNegocio" value="@Html.DisplayFor(modelItem => item.idNegocio)">
                    @*</form>*@
                }
            }
        </div>
    </section>
</div>

<p style="font-size:22px; font-weight:bold;text-align:left;margin-left:20px;margin-bottom:0px">Productos</p>
<div>    @Html.Partial("_PartialProductoCarrusel", ViewBag.productos as IEnumerable<Producto>)</div>
